# 俄罗斯方块 AI

我们构建了一个能在在线俄罗斯方块中比我们更强的机器人，它甚至还赢过几美元。

该机器人通过截图读取棋盘并模拟按键，因此可以适配任意俄罗斯方块游戏。

读取到棋盘后，它会使用算法计算最佳落点并执行。

算法提供多种模式，例如追求 “TETRIS”（一次消除四行）的策略。

### 演示
模式 1 的游戏画面

![模式1演示](https://media.giphy.com/media/kg1Ng8ZXTUQ2efOpUk/giphy.gif)

模式 2 在另一款游戏中的表现

![模式2演示](https://user-images.githubusercontent.com/27450370/147476623-7acc036e-7195-409b-a2ec-d24e489aadf2.gif)

## 使用说明

### 运行方法
运行前请先安装依赖：

```bash
pip install -r requirements.txt
```

1. 在项目根目录运行 `python src/main.py`，或使用模块方式 `python -m src.main`
2. 程序会截图并弹出窗口，依次点击棋盘左上角与右下角，再点击下一块区域的左上角与右下角
3. 如需微调，可修改 `config.py` 中的参数或将 `调试等级` 设为 3 打开辅助窗口
4. 切换到游戏窗口即可开始

若已经确定识别区域，可在 `config.py` 中将 `框选识别区域` 设为 `False`，下次运行时将跳过框选步骤。

### 运行时调节
游戏过程中可以通过按键控制机器人行为（仅在新方块出现时检查，需要按住）：

    下落速度
    1 - 最快，总是硬降
    2 - 取消硬降
    3 - 自由下落，机器人会“害怕”
    下一块的计算路径数量：
    z, x, c - 1、4、8
    n - 尝试清理场地
m - 关闭清理模式（专注于造 TETRIS）

### 注意事项

- 若可视化窗口中文字显示为方框，请在系统中安装中文字体（例如黑体 SimHei）。
